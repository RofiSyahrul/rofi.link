---
import { APP_NAME, AUTHOR_NAME, AUTHOR_URL } from 'astro:env/server';

import * as m from '$/paraglide/messages';
import { languageTag } from '$/paraglide/runtime';

import VercelIcon from '$lib/icons/vercel-icon.svelte';

import TechStacks from './components/tech-stacks.svelte';

const lang = languageTag();
const EmOrFragment = lang === 'en' ? Fragment : 'em';
---

<footer transition:persist={`footer__${lang}`}>
  <p>
    <EmOrFragment>Powered by</EmOrFragment>
    <a
      class='btn btn-text btn-primary'
      href='https://vercel.com/'
      target='_blank'
      rel='noopener noreferrer'
    >
      <VercelIcon />
      <span class='visually-hidden'>Vercel</span>
    </a>
  </p>

  <p>
    <strong>{APP_NAME}</strong>
    {m.base_developed_by()}
    <a
      class='btn btn-text btn-primary'
      href={AUTHOR_URL}
      target='_blank'
    >
      {AUTHOR_NAME}
    </a>
    {m.base_using()}
    <TechStacks />
  </p>
</footer>

<style lang='scss'>
  footer {
    display: flex;
    flex-direction: column;
    gap: 8px;
    align-items: center;
    justify-content: flex-end;
    width: 100%;
    height: 160px;
    padding: 12px;

    :global(a) {
      height: 24px;
    }
  }

  p {
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
    line-height: 32px;

    :global(span) {
      display: inline-flex;
    }

    &,
    :global(span) {
      align-items: center;
      justify-content: center;
      text-align: center;
    }
  }
</style>
